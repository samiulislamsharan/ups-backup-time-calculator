<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <title>UPS Battery Time Calculator</title>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">UPS Backup Time Calculator</h1>
        <form id="calculatorForm">
            <div class="form-group">
                <label for="power">Power (Watt):</label>
                <input type="number" class="form-control" id="power" required>
            </div>
            <div class="form-group">
                <label for="powerFactor">Power Factor:</label>
                <input type="number" class="form-control" id="powerFactor" value="0.9" required>
            </div>
            <div class="form-group">
                <label for="batteryVoltage">Battery Voltage (V):</label>
                <input type="number" class="form-control" id="batteryVoltage" required>
            </div>
            <div class="form-group">
                <label for="numberOfBatteries">Number of Batteries:</label>
                <input type="number" class="form-control" id="numberOfBatteries" required>
            </div>
            <div class="form-group">
                <label for="batteryCapacity">Battery Capacity (Ah):</label>
                <input type="number" class="form-control" id="batteryCapacity" required>
            </div>
            <button type="button" class="btn btn-primary mt-2" onclick="calculateBatteryTime()">Calculate</button>
        </form>
        <h3 id="result" class="mt-3 fw-bolder"></h3>
    </div>

    <footer class="py-3 my-4">
        <p class="text-center text-muted">Â© 2024, Samiul Islam <a class="fw-bold text-decoration-none"
                href="https://github.com/samiulislamsharan" target="_blank" rel="external noopener">GitHub</a></p>
    </footer>

    <script>
        function calculateBatteryTime() {
            var power = parseFloat(document.getElementById('power').value);
            var powerFactor = parseFloat(document.getElementById('powerFactor').value);
            var batteryVoltage = parseInt(document.getElementById('batteryVoltage').value);
            var numberOfBatteries = parseInt(document.getElementById('numberOfBatteries').value);
            var batteryCapacity = parseFloat(document.getElementById('batteryCapacity').value);

            var upsVA = power / powerFactor;
            var batteryBankVoltage = batteryVoltage * numberOfBatteries;
            var upsCurrent = upsVA / batteryBankVoltage;
            var batteryBackupHours = batteryCapacity / upsCurrent;

            // convert hours to minutes
            if (batteryBackupHours < 1) {
                var batteryBackupMinutes = batteryBackupHours * 60;
                document.getElementById('result').innerHTML = "Battery Backup Time: " + batteryBackupMinutes.toFixed(2) + " minutes";
            } else
                document.getElementById('result').innerHTML = "Battery Backup Time: " + batteryBackupHours.toFixed(2) + " hours";
        }
    </script>
</body>
</html>